package dev.imptovskii.aeflite;

import dev.imptovskii.aeflite.events.ProtocolLib;
import org.bukkit.ChatColor;
import org.bukkit.plugin.java.JavaPlugin;

public final class Main extends JavaPlugin {

    @Override
    public void onEnable() {
        getLogger().info(ChatColor.DARK_GREEN + "Loading Classes...");
        getLogger().info(ChatColor.DARK_GREEN + "Loading AntiBurrow Module...");
        getServer().getPluginManager().registerEvents(new dev.imptovskii.aeflite.events.AntiBurrowNew(this), this);
        getLogger().info(ChatColor.DARK_GREEN + "Loading AntiBowBomb Module...");
        getServer().getPluginManager().registerEvents(new dev.imptovskii.aeflite.events.AntiBowBomb(this), this);
        getLogger().info(ChatColor.DARK_GREEN + "Loading CrystalAge Module...");
        getServer().getPluginManager().registerEvents(new dev.imptovskii.aeflite.events.CrystalAge(this), this);
        getLogger().info(ChatColor.DARK_GREEN + "Loading AntiNetherRoof Module...");
        getServer().getPluginManager().registerEvents(new dev.imptovskii.aeflite.events.AntiNetherRoof(this), this);
        getLogger().info(ChatColor.DARK_GREEN + "Loading AntiNetherBottom Module...");
        getServer().getPluginManager().registerEvents(new dev.imptovskii.aeflite.events.AntiNetherBottom(this), this);
        if (getConfig().getBoolean("DisableAllProtocolLib")) {
            getLogger().info(ChatColor.RED + "You specified to disable all ProtocolLib patches.");
        } else {
            if (getServer().getPluginManager().getPlugin("ProtocolLib") != null) {
                getLogger().info(ChatColor.DARK_GREEN + "Loading PacketExploits Patch Module...");
                ProtocolLib.protocolLibWrapper(this);
            } else {
                getLogger().warning(ChatColor.RED + "Did not detect ProtocolLib, disabling packet patches");
            }
        }
        getLogger().info(ChatColor.DARK_GREEN + "/new places/ Core (CPVP) - has been loaded and enabled!");

        }
        @Override
        public void onDisable() {
        getLogger().info(ChatColor.DARK_GREEN + "/new places/ Core (CPVP) - has been unloaded and disabled!");
        }
}